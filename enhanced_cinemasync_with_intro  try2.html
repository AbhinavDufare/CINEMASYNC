<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CinemaSync - Watch Together, Apart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #2d1810 0%, #1a0e0a 30%, #0f0507 70%, #1a1216 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 140, 105, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 182, 135, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 107, 107, 0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffd4a3;
            border-radius: 50%;
            opacity: 0.8;
            animation: twinkle 4s infinite;
            filter: blur(0.5px);
        }

        .star:nth-child(odd) {
            background: #ffb88c;
        }

        .star:nth-child(3n) {
            background: #ffd93d;
            filter: blur(1px);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            25% { opacity: 0.6; transform: scale(1.1); }
            50% { opacity: 1; transform: scale(1.2); }
            75% { opacity: 0.8; transform: scale(1.1); }
        }

        /* Intro Page Styles */
        .intro-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            background: linear-gradient(135deg, #2d1810 0%, #1a0e0a 30%, #0f0507 70%, #1a1216 100%);
            transition: all 1s ease-out;
        }

        .intro-page.fade-out {
            opacity: 0;
            transform: scale(1.1);
        }

        .intro-page.hidden {
            display: none;
        }

        .intro-logo-container {
            position: relative;
            margin-bottom: 40px;
        }

        .intro-logo {
            font-size: 5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff8a65, #ffd54f, #ffab91, #ff7043);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease-in-out infinite, logoGlow 2s ease-in-out infinite;
            filter: drop-shadow(0 0 30px rgba(255, 138, 101, 0.5));
            text-align: center;
            letter-spacing: -2px;
        }

        .intro-tagline {
            font-size: 1.5rem;
            color: #e8c5a0;
            text-align: center;
            margin-bottom: 60px;
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .intro-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s forwards;
        }

        .loading-dots {
            display: flex;
            gap: 8px;
        }

        .loading-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            animation: bounce 1.4s ease-in-out infinite both;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }

        .loading-text {
            color: #d4b896;
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .intro-cinema-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .cinema-reel {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 4px solid rgba(255, 138, 101, 0.3);
            border-radius: 50%;
            animation: rotate 8s linear infinite;
        }

        .cinema-reel::before,
        .cinema-reel::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 138, 101, 0.3);
            border-radius: 50%;
        }

        .cinema-reel::before {
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .cinema-reel::after {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .cinema-reel-1 {
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .cinema-reel-2 {
            top: 20%;
            right: 10%;
            animation-delay: -2s;
        }

        .cinema-reel-3 {
            bottom: 15%;
            left: 8%;
            animation-delay: -4s;
        }

        .cinema-reel-4 {
            bottom: 25%;
            right: 5%;
            animation-delay: -6s;
        }

        .film-strip {
            position: absolute;
            width: 200px;
            height: 20px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 138, 101, 0.1) 10%, 
                rgba(255, 138, 101, 0.2) 20%,
                transparent 30%,
                rgba(255, 138, 101, 0.1) 40%,
                rgba(255, 138, 101, 0.2) 50%,
                transparent 60%,
                rgba(255, 138, 101, 0.1) 70%,
                rgba(255, 138, 101, 0.2) 80%,
                transparent 90%
            );
            animation: filmMove 4s ease-in-out infinite;
        }

        .film-strip-1 {
            top: 30%;
            left: -200px;
            transform: rotate(-15deg);
            animation-delay: 0s;
        }

        .film-strip-2 {
            bottom: 40%;
            right: -200px;
            transform: rotate(20deg);
            animation-delay: -2s;
        }

        /* Skip button */
        .skip-intro-btn {
            position: absolute;
            bottom: 40px;
            right: 40px;
            background: rgba(255, 138, 101, 0.15);
            border: 1px solid rgba(255, 138, 101, 0.3);
            color: #f5e6d3;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            opacity: 0;
            animation: fadeInUp 1s ease-out 2s forwards;
        }

        .skip-intro-btn:hover {
            background: rgba(255, 138, 101, 0.25);
            transform: translateY(-2px);
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes logoGlow {
            0%, 100% { 
                filter: drop-shadow(0 0 30px rgba(255, 138, 101, 0.5)); 
                transform: scale(1);
            }
            50% { 
                filter: drop-shadow(0 0 50px rgba(255, 138, 101, 0.8)); 
                transform: scale(1.02);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            } 40% {
                transform: scale(1);
            }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes filmMove {
            0%, 100% { transform: translateX(0) rotate(-15deg); }
            50% { transform: translateX(50px) rotate(-15deg); }
        }

        .film-strip-2 {
            animation-name: filmMoveRight;
        }

        @keyframes filmMoveRight {
            0%, 100% { transform: translateX(0) rotate(20deg); }
            50% { transform: translateX(-50px) rotate(20deg); }
        }

        /* Main App Styles (keeping all original styles) */
        .main-app {
            opacity: 0;
            transform: scale(0.95);
            transition: all 1s ease-out;
        }

        .main-app.show {
            opacity: 1;
            transform: scale(1);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 2000;
        }

        .toast {
            background: rgba(61, 28, 15, 0.95);
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 10px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 138, 101, 0.3);
            min-width: 300px;
            transform: translateX(400px);
            transition: all 0.3s ease;
            animation: slideIn 0.3s ease forwards;
        }

        .toast.success {
            border-color: rgba(76, 175, 80, 0.4);
        }

        .toast.error {
            border-color: rgba(255, 82, 82, 0.4);
        }

        .toast.info {
            border-color: rgba(33, 150, 243, 0.4);
        }

        @keyframes slideIn {
            to { transform: translateX(0); }
        }

        @keyframes slideOut {
            to { transform: translateX(400px); opacity: 0; }
        }

        /* Auth Modal Styles */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-form {
            background: rgba(61, 28, 15, 0.95);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 138, 101, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.3s ease;
            position: relative;
        }

        .auth-modal.active .auth-form {
            transform: translateY(0);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h2 {
            font-size: 1.8rem;
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .auth-header p {
            color: #d4b896;
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #f5e6d3;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 138, 101, 0.15);
            color: #f5e6d3;
            outline: none;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 138, 101, 0.3);
            font-size: 0.95rem;
        }

        .form-input:focus {
            background: rgba(255, 138, 101, 0.2);
            box-shadow: 0 0 15px rgba(255, 138, 101, 0.2);
            border-color: rgba(255, 138, 101, 0.5);
        }

        .form-input::placeholder {
            color: #d4b896;
        }

        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #d4b896;
            cursor: pointer;
            font-size: 1rem;
            padding: 4px;
            transition: color 0.3s ease;
        }

        .password-toggle:hover {
            color: #ff8a65;
        }

        .password-strength {
            margin-top: 5px;
            height: 3px;
            background: rgba(255, 138, 101, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .password-strength-fill {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .strength-weak { background: #ff5252; width: 25%; }
        .strength-fair { background: #ff9800; width: 50%; }
        .strength-good { background: #2196f3; width: 75%; }
        .strength-strong { background: #4caf50; width: 100%; }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            color: #5d2e1a;
            box-shadow: 0 4px 15px rgba(255, 138, 101, 0.3);
            width: 100%;
            padding: 15px;
            font-size: 1rem;
            font-weight: 600;
        }

        .btn-secondary {
            background: rgba(255, 138, 101, 0.15);
            color: #f5e6d3;
            border: 1px solid rgba(255, 138, 101, 0.3);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
        }

        .btn-primary:hover:not(:disabled) {
            box-shadow: 0 12px 25px rgba(255, 138, 101, 0.35);
        }

        .auth-switch {
            text-align: center;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 138, 101, 0.2);
        }

        .auth-switch p {
            color: #d4b896;
            margin-bottom: 10px;
        }

        .auth-switch button {
            background: none;
            border: none;
            color: #ff8a65;
            cursor: pointer;
            font-weight: 600;
            text-decoration: underline;
            transition: color 0.3s ease;
        }

        .auth-switch button:hover {
            color: #ffd54f;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #d4b896;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            color: #ff8a65;
        }

        .error-message {
            background: rgba(255, 82, 82, 0.2);
            border: 1px solid rgba(255, 82, 82, 0.4);
            color: #ffb3b3;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .success-message {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.4);
            color: #b3ffb3;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        /* User Menu Styles */
        .user-menu {
            position: relative;
            display: inline-block;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            color: #5d2e1a;
            transition: all 0.3s ease;
            position: relative;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(255, 138, 101, 0.3);
        }

        .user-avatar.online::after {
            content: '';
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 8px;
            height: 8px;
            background: #4caf50;
            border-radius: 50%;
            border: 2px solid #2d1810;
        }

        .user-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background: rgba(61, 28, 15, 0.95);
            border-radius: 15px;
            padding: 20px;
            min-width: 220px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 138, 101, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .user-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .user-info {
            border-bottom: 1px solid rgba(255, 138, 101, 0.2);
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .user-info h4 {
            color: #fff;
            margin-bottom: 5px;
        }

        .user-info p {
            color: #d4b896;
            font-size: 0.85rem;
        }

        .user-status {
            font-size: 0.8rem;
            color: #4caf50;
            margin-top: 2px;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            padding: 8px 0;
            background: none;
            border: none;
            color: #d4b896;
            text-align: left;
            cursor: pointer;
            transition: color 0.3s ease;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            color: #fff;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            animation: fadeInDown 1s ease-out;
        }

        .header-left {
            text-align: center;
            flex: 1;
        }

        .header-right {
            min-width: 120px;
            display: flex;
            justify-content: flex-end;
        }

        .logo {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff8a65, #ffd54f, #ffab91);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 20px rgba(255, 138, 101, 0.3));
        }

        .tagline {
            font-size: 1.2rem;
            color: #e8c5a0;
            margin-bottom: 30px;
            filter: drop-shadow(0 0 10px rgba(255, 138, 101, 0.2));
        }

        /* Loading Spinner */
        .loading-spinner {
            width: 18px;
            height: 18px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Guest Section */
        .guest-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 24px;
            background: rgba(255, 138, 101, 0.15);
            border: none;
            border-radius: 25px;
            color: #f5e6d3;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            font-size: 14px;
            border: 1px solid rgba(255, 138, 101, 0.2);
            position: relative;
            overflow: hidden;
        }

        .nav-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .nav-tab:hover::before {
            left: 100%;
        }

        .nav-tab:hover {
            background: rgba(255, 138, 101, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 138, 101, 0.15);
        }

        .nav-tab.active {
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            color: #5d2e1a;
            box-shadow: 0 8px 25px rgba(255, 138, 101, 0.3);
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .content-section.active {
            display: block;
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px 0;
        }

        .hero-title {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #fff, #ffd54f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.1rem;
            color: #d4b896;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Feature Cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .feature-card {
            background: rgba(255, 138, 101, 0.08);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 138, 101, 0.15);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(255, 138, 101, 0.3), transparent);
            border-radius: 20px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(255, 138, 101, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .feature-title {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .feature-description {
            color: #d4b896;
            line-height: 1.6;
        }

        /* Movie Room Interface */
        .room-interface {
            background: rgba(255, 138, 101, 0.08);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255, 138, 101, 0.15);
        }

        .room-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .room-id {
            font-family: monospace;
            background: rgba(255, 138, 101, 0.2);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .video-container {
            background: #000;
            border-radius: 12px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .video-placeholder {
            color: #666;
            font-size: 1.2rem;
        }

        .video-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .control-btn {
            background: rgba(255, 138, 101, 0.2);
            border: none;
            color: #fff;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .control-btn:hover {
            background: rgba(255, 138, 101, 0.4);
            transform: translateY(-2px);
        }

        .control-btn.active {
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            color: #5d2e1a;
        }

        .participants {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .participant {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 138, 101, 0.15);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .participant-avatar {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff8a65, #ffd54f);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
            color: #5d2e1a;
        }

        .chat-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            height: 200px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            padding: 15px;
            border-top: 1px solid rgba(255, 138, 101, 0.2);
        }

        .chat-input {
            flex: 1;
            background: rgba(255, 138, 101, 0.15);
            border: 1px solid rgba(255, 138, 101, 0.3);
            border-radius: 8px;
            padding: 8px 12px;
            color: #fff;
            outline: none;
        }

        .chat-input::placeholder {
            color: #d4b896;
        }

        /* Create Room Modal */
        .create-room-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .create-room-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .room-form {
            background: rgba(61, 28, 15, 0.95);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 500px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 138, 101, 0.3);
        }

        /* Platform Cards */
        .platform-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .platform-card {
            background: rgba(255, 138, 101, 0.08);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 138, 101, 0.15);
            transition: all 0.3s ease;
        }

        .platform-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 138, 101, 0.15);
        }

        .platform-logo {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .netflix { background: #E50914; }
        .disney { background: #113CCF; }
        .hulu { background: #1CE783; }
        .amazon { background: #00A8CC; }
        .hbo { background: #8B5CF6; }
        .youtube { background: #FF0000; }

        .platform-name {
            font-size: 1.1rem;
            font-weight: bold;
            color: #fff;
            margin-bottom: 8px;
        }

        .platform-status {
            font-size: 0.9rem;
            color: #d4b896;
        }

        .status-connected {
            color: #4CAF50;
        }

        .status-disconnected {
            color: #FF5252;
        }

        /* Auth Required Overlay */
        .auth-required-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .auth-required-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-required-message {
            background: rgba(61, 28, 15, 0.95);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 138, 101, 0.3);
            max-width: 400px;
            margin: 20px;
        }

        .auth-required-message h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .auth-required-message p {
            color: #d4b896;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        /* Protected Content */
        .protected-content {
            text-align: center;
            padding: 60px 20px;
        }

        .protected-content h2 {
            color: #fff;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .protected-content p {
            color: #d4b896;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Form Validation */
        .form-input.invalid {
            border-color: rgba(255, 82, 82, 0.6);
            background: rgba(255, 82, 82, 0.1);
        }

        .form-input.valid {
            border-color: rgba(76, 175, 80, 0.6);
            background: rgba(76, 175, 80, 0.1);
        }

        .field-error {
            color: #ff8a80;
            font-size: 0.8rem;
            margin-top: 5px;
            display: block;
        }

        /* Connection Status */
        .connection-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(61, 28, 15, 0.95);
            padding: 10px 15px;
            border-radius: 20px;
            border: 1px solid rgba(255, 138, 101, 0.3);
            backdrop-filter: blur(10px);
            font-size: 0.85rem;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .connection-status.online {
            color: #4caf50;
            border-color: rgba(76, 175, 80, 0.4);
        }

        .connection-status.offline {
            color: #ff5252;
            border-color: rgba(255, 82, 82, 0.4);
        }

        .connection-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }

        .connection-status.online .connection-dot {
            background: #4caf50;
        }

        .connection-status.offline .connection-dot {
            background: #ff5252;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .intro-logo {
                font-size: 3.5rem;
            }
            
            .intro-tagline {
                font-size: 1.2rem;
            }

            .cinema-reel {
                width: 60px;
                height: 60px;
            }

            .film-strip {
                width: 150px;
                height: 15px;
            }

            .skip-intro-btn {
                bottom: 20px;
                right: 20px;
                padding: 8px 16px;
            }

            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .header-left, .header-right {
                flex: none;
            }

            .auth-form, .room-form {
                margin: 20px;
                padding: 30px 25px;
            }

            .guest-actions {
                justify-content: center;
            }

            .hero-title {
                font-size: 2rem;
            }

            .logo {
                font-size: 2.5rem;
            }

            .feature-grid, .platform-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .toast {
                min-width: auto;
                margin: 0 20px 10px 20px;
            }

            .user-dropdown {
                right: -10px;
                min-width: 200px;
            }

            .room-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .video-controls {
                flex-wrap: wrap;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .intro-logo {
                font-size: 2.8rem;
            }
            
            .intro-tagline {
                font-size: 1rem;
            }

            .container {
                padding: 15px;
            }

            .nav-tabs {
                gap: 10px;
            }

            .nav-tab {
                padding: 10px 16px;
                font-size: 13px;
            }

            .feature-card, .platform-card {
                padding: 25px 20px;
            }

            .hero-subtitle {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Intro Page -->
    <div class="intro-page" id="introPage">
        <div class="intro-cinema-elements">
            <div class="cinema-reel cinema-reel-1"></div>
            <div class="cinema-reel cinema-reel-2"></div>
            <div class="cinema-reel cinema-reel-3"></div>
            <div class="cinema-reel cinema-reel-4"></div>
            <div class="film-strip film-strip-1"></div>
            <div class="film-strip film-strip-2"></div>
        </div>
        
        <div class="intro-logo-container">
            <div class="intro-logo">CinemaSync</div>
        </div>
        
        <div class="intro-tagline">Watch Together, Apart</div>
        
        <div class="intro-loading">
            <div class="loading-dots">
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
            </div>
            <div class="loading-text">Loading Experience</div>
        </div>
        
        <button class="skip-intro-btn" onclick="skipIntro()">Skip Intro ‚Üí</button>
    </div>

    <!-- Main App -->
    <div class="main-app" id="mainApp">
        <div class="stars" id="stars"></div>
        
        <!-- Toast Container -->
        <div class="toast-container" id="toastContainer"></div>

        <!-- Connection Status -->
        <div class="connection-status online" id="connectionStatus">
            <span class="connection-dot"></span>
            <span id="connectionText">Connected</span>
        </div>
        
        <!-- Authentication Modal -->
        <div class="auth-modal" id="authModal">
            <div class="auth-form">
                <button class="close-btn" onclick="closeAuthModal()">&times;</button>
                
                <!-- Login Form -->
                <div id="loginForm" class="auth-content">
                    <div class="auth-header">
                        <h2>Welcome Back</h2>
                        <p>Sign in to continue your movie journey</p>
                    </div>
                    
                    <div id="loginMessage"></div>
                    
                    <form onsubmit="handleLogin(event)" id="loginFormElement">
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input 
                                type="email" 
                                class="form-input" 
                                id="loginEmail" 
                                placeholder="Enter your email" 
                                required
                                autocomplete="email"
                            >
                            <span class="field-error" id="loginEmailError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <div style="position: relative;">
                                <input 
                                    type="password" 
                                    class="form-input" 
                                    id="loginPassword" 
                                    placeholder="Enter your password" 
                                    required
                                    autocomplete="current-password"
                                >
                                <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                                    üëÅÔ∏è
                                </button>
                            </div>
                            <span class="field-error" id="loginPasswordError"></span>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="loginBtn">
                            Sign In
                        </button>
                    </form>
                    
                    <div class="auth-switch">
                        <p>Don't have an account?</p>
                        <button type="button" onclick="switchToRegister()">Create Account</button>
                    </div>
                </div>
                
                <!-- Register Form -->
                <div id="registerForm" class="auth-content" style="display: none;">
                    <div class="auth-header">
                        <h2>Join CinemaSync</h2>
                        <p>Create your account to start watching together</p>
                    </div>
                    
                    <div id="registerMessage"></div>
                    
                    <form onsubmit="handleRegister(event)" id="registerFormElement">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input 
                                type="text" 
                                class="form-input" 
                                id="registerName" 
                                placeholder="Enter your full name" 
                                required
                                autocomplete="name"
                            >
                            <span class="field-error" id="registerNameError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input 
                                type="email" 
                                class="form-input" 
                                id="registerEmail" 
                                placeholder="Enter your email" 
                                required
                                autocomplete="email"
                            >
                            <span class="field-error" id="registerEmailError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <div style="position: relative;">
                                <input 
                                    type="password" 
                                    class="form-input" 
                                    id="registerPassword" 
                                    placeholder="Create a strong password" 
                                    required
                                    autocomplete="new-password"
                                    oninput="checkPasswordStrength(this.value)"
                                >
                                <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                                    üëÅÔ∏è
                                </button>
                            </div>
                            <div class="password-strength">
                                <div class="password-strength-fill" id="passwordStrength"></div>
                            </div>
                            <small style="color: #d4b896; font-size: 0.8rem; margin-top: 5px; display: block;">
                                Must be 8+ characters with uppercase, lowercase, and number
                            </small>
                            <span class="field-error" id="registerPasswordError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Confirm Password</label>
                            <div style="position: relative;">
                                <input 
                                    type="password" 
                                    class="form-input" 
                                    id="confirmPassword" 
                                    placeholder="Confirm your password" 
                                    required
                                    autocomplete="new-password"
                                >
                                <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                    üëÅÔ∏è
                                </button>
                            </div>
                            <span class="field-error" id="confirmPasswordError"></span>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="registerBtn">
                            Create Account
                        </button>
                    </form>
                    
                    <div class="auth-switch">
                        <p>Already have an account?</p>
                        <button type="button" onclick="switchToLogin()">Sign In</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Room Modal -->
        <div class="create-room-modal" id="createRoomModal">
            <div class="room-form">
                <button class="close-btn" onclick="closeCreateRoomModal()">&times;</button>
                
                <div class="auth-header">
                    <h2>Create Movie Room</h2>
                    <p>Set up your private movie watching experience</p>
                </div>
                
                <form onsubmit="handleCreateRoom(event)">
                    <div class="form-group">
                        <label class="form-label">Room Name</label>
                        <input 
                            type="text" 
                            class="form-input" 
                            id="roomName" 
                            placeholder="e.g., Date Night with Sarah" 
                            required
                        >
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Maximum Participants</label>
                        <select class="form-input" id="maxParticipants">
                            <option value="2">2 people (intimate)</option>
                            <option value="4">4 people (small group)</option>
                            <option value="8">8 people (family/friends)</option>
                            <option value="16">16 people (party)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Room Privacy</label>
                        <select class="form-input" id="roomPrivacy">
                            <option value="private">Private (invite only)</option>
                            <option value="friends">Friends only</option>
                            <option value="public">Public (anyone can join)</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        üöÄ Create Room
                    </button>
                </form>
            </div>
        </div>

        <!-- Auth Required Overlay -->
        <div class="auth-required-overlay" id="authRequiredOverlay">
            <div class="auth-required-message">
                <h3>Authentication Required</h3>
                <p>Please sign in to access this feature and start your movie journey.</p>
                <button class="btn btn-primary" onclick="showAuthModal('login')">Sign In</button>
            </div>
        </div>
        
        <div class="container">
            <div class="header">
                <div style="flex: 0;"></div>
                <div class="header-left">
                    <div class="logo">CinemaSync</div>
                    <div class="tagline">Watch Together, Apart</div>
                </div>
                <div class="header-right">
                    <!-- Guest Actions -->
                    <div class="guest-actions" id="guestActions">
                        <button class="btn btn-secondary" onclick="showAuthModal('login')">Sign In</button>
                        <button class="btn btn-primary" onclick="showAuthModal('register')">Join Now</button>
                    </div>
                    
                    <!-- User Menu -->
                    <div class="user-menu" id="userMenu" style="display: none;">
                        <div class="user-avatar online" onclick="toggleUserDropdown()" id="userAvatar">
                            JD
                        </div>
                        <div class="user-dropdown" id="userDropdown">
                            <div class="user-info">
                                <h4 id="userName">John Doe</h4>
                                <p id="userEmail">john@example.com</p>
                                <div class="user-status">‚óè Online</div>
                            </div>
                            <button class="dropdown-item" onclick="showProfile()">
                                üë§ Profile Settings
                            </button>
                            <button class="dropdown-item" onclick="showNotifications()">
                                üîî Notifications
                            </button>
                            <button class="dropdown-item" onclick="showHelp()">
                                ‚ùì Help & Support
                            </button>
                            <hr style="border-color: rgba(255, 138, 101, 0.2); margin: 10px 0;">
                            <button class="dropdown-item" onclick="logout()">
                                üö™ Sign Out
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showSection('home', event)">üè† Home</button>
                <button class="nav-tab" onclick="showSection('room', event)">üé¨ Movie Room</button>
                <button class="nav-tab" onclick="showSection('schedule', event)">üìÖ Schedule</button>
                <button class="nav-tab" onclick="showSection('platforms', event)">üì∫ Platforms</button>
            </div>

            <!-- Home Section -->
            <div id="home" class="content-section active">
                <div class="hero-section">
                    <h1 class="hero-title">Your Perfect Movie Date Awaits</h1>
                    <p class="hero-subtitle">
                        Distance can't dim the magic of watching movies together. Create intimate movie experiences 
                        with your loved ones, no matter where they are in the world.
                    </p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <span class="feature-icon">üíï</span>
                        <h3 class="feature-title">Private Date Rooms</h3>
                        <p class="feature-description">
                            Create intimate spaces for you and your partner with synchronized playback, 
                            video chat, and cozy ambiance that makes every movie night special.
                        </p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üé≠</span>
                        <h3 class="feature-title">Virtual Theater Mode</h3>
                        <p class="feature-description">
                            Immerse yourselves in a cinematic experience with our virtual theater environment, 
                            complete with ambient lighting and surround sound synchronization.
                        </p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üîí</span>
                        <h3 class="feature-title">Secure & Legal</h3>
                        <p class="feature-description">
                            Users connect their own streaming accounts. We sync the experience without 
                            storing or redistributing content, keeping everything legal and secure.
                        </p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üí¨</span>
                        <h3 class="feature-title">Real-time Chat</h3>
                        <p class="feature-description">
                            Share reactions, jokes, and moments with integrated chat that doesn't interrupt 
                            your viewing experience. Perfect for commentary and connection.
                        </p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üéØ</span>
                        <h3 class="feature-title">Perfect Sync</h3>
                        <p class="feature-description">
                            Advanced synchronization technology ensures everyone watches at exactly 
                            the same moment, with automatic adjustment for network delays.
                        </p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üåü</span>
                        <h3 class="feature-title">Movie Recommendations</h3>
                        <p class="feature-description">
                            AI-powered suggestions based on your combined preferences help you discover 
                            the perfect movie for your next date night together.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Movie Room Section -->
            <div id="room" class="content-section">
                <div class="room-interface" id="roomInterface" style="display: none;">
                    <div class="room-header">
                        <div>
                            <h2>üé¨ Movie Room: <span id="currentRoomName">Romantic Evening</span></h2>
                            <p>Room ID: <span class="room-id" id="currentRoomId">ROOM-12345</span></p>
                        </div>
                        <button class="btn btn-secondary" onclick="leaveRoom()">Leave Room</button>
                    </div>

                    <div class="participants">
                        <div class="participant">
                            <div class="participant-avatar">YO</div>
                            <span>You</span>
                        </div>
                        <div class="participant">
                            <div class="participant-avatar">SA</div>
                            <span>Sarah</span>
                        </div>
                    </div>

                    <div class="video-container">
                        <div class="video-placeholder">üé• Connect your streaming service to start watching</div>
                    </div>

                    <div class="video-controls">
                        <button class="control-btn" id="playBtn" onclick="togglePlay()">‚ñ∂Ô∏è Play</button>
                        <button class="control-btn" onclick="seekBackward()">‚è™ -10s</button>
                        <button class="control-btn" onclick="seekForward()">‚è© +10s</button>
                        <button class="control-btn" onclick="toggleSync()">üîÑ Sync</button>
                        <button class="control-btn" onclick="toggleChat()">üí¨ Chat</button>
                        <button class="control-btn" onclick="toggleTheaterMode()">üé≠ Theater</button>
                    </div>

                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div style="color: #888; font-size: 0.8rem; text-align: center; padding: 20px;">
                                Chat messages will appear here...
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" placeholder="Type a message..." id="chatInput">
                            <button class="btn btn-primary" onclick="sendMessage()">Send</button>
                        </div>
                    </div>
                </div>

                <div class="protected-content" id="roomLanding">
                    <h2>üé¨ Movie Room</h2>
                    <p>Start or join a movie room to watch with friends and loved ones</p>
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 30px;">
                        <button class="btn btn-primary" onclick="showCreateRoomModal()">
                            üÜï Create Room
                        </button>
                        <button class="btn btn-secondary" onclick="showJoinRoomModal()">
                            üîó Join Room
                        </button>
                    </div>
                </div>
            </div>

            <!-- Schedule Section -->
            <div id="schedule" class="content-section">
                <div class="protected-content">
                    <h2>üìÖ Schedule Movie Date</h2>
                    <p>Plan your movie nights in advance with calendar integration</p>
                    
                    <div class="feature-grid" style="margin-top: 40px;">
                        <div class="feature-card">
                            <span class="feature-icon">üìÜ</span>
                            <h3 class="feature-title">Calendar Integration</h3>
                            <p class="feature-description">
                                Sync with Google Calendar, Outlook, or Apple Calendar to never miss a movie date.
                            </p>
                            <button class="btn btn-primary" style="margin-top: 15px; width: auto;">
                                Connect Calendar
                            </button>
                        </div>

                        <div class="feature-card">
                            <span class="feature-icon">‚è∞</span>
                            <h3 class="feature-title">Smart Scheduling</h3>
                            <p class="feature-description">
                                Find optimal times across different time zones for all participants.
                            </p>
                            <button class="btn btn-secondary" style="margin-top: 15px; width: auto;">
                                Schedule Date
                            </button>
                        </div>

                        <div class="feature-card">
                            <span class="feature-icon">üîî</span>
                            <h3 class="feature-title">Reminder System</h3>
                            <p class="feature-description">
                                Get notified 30 minutes before your scheduled movie starts.
                            </p>
                            <button class="btn btn-secondary" style="margin-top: 15px; width: auto;">
                                View Reminders
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Platforms Section -->
            <div id="platforms" class="content-section">
                <div style="padding: 20px 0;">
                    <h2 style="text-align: center; color: #fff; margin-bottom: 10px;">üì∫ Streaming Platforms</h2>
                    <p style="text-align: center; color: #d4b896; margin-bottom: 40px;">
                        Connect your streaming accounts for seamless movie watching
                    </p>

                    <div class="platform-grid">
                        <div class="platform-card">
                            <div class="platform-logo netflix">N</div>
                            <div class="platform-name">Netflix</div>
                            <div class="platform-status status-connected">‚úì Connected</div>
                            <button class="btn btn-secondary" style="margin-top: 15px; width: 100%;">
                                Manage Connection
                            </button>
                        </div>

                        <div class="platform-card">
                            <div class="platform-logo disney">D+</div>
                            <div class="platform-name">Disney+</div>
                            <div class="platform-status status-disconnected">‚ö† Not Connected</div>
                            <button class="btn btn-primary" style="margin-top: 15px; width: 100%;">
                                Connect Account
                            </button>
                        </div>

                        <div class="platform-card">
                            <div class="platform-logo hulu">H</div>
                            <div class="platform-name">Hulu</div>
                            <div class="platform-status status-connected">‚úì Connected</div>
                            <button class="btn btn-secondary" style="margin-top: 15px; width: 100%;">
                                Manage Connection
                            </button>
                        </div>

                        <div class="platform-card">
                            <div class="platform-logo amazon">P</div>
                            <div class="platform-name">Prime Video</div>
                            <div class="platform-status status-disconnected">‚ö† Not Connected</div>
                            <button class="btn btn-primary" style="margin-top: 15px; width: 100%;">
                                Connect Account
                            </button>
                        </div>

                        <div class="platform-card">
                            <div class="platform-logo hbo">HBO</div>
                            <div class="platform-name">HBO Max</div>
                            <div class="platform-status status-disconnected">‚ö† Not Connected</div>
                            <button class="btn btn-primary" style="margin-top: 15px; width: 100%;">
                                Connect Account
                            </button>
                        </div>

                        <div class="platform-card">
                            <div class="platform-logo youtube">YT</div>
                            <div class="platform-name">YouTube</div>
                            <div class="platform-status status-connected">‚úì Connected</div>
                            <button class="btn btn-secondary" style="margin-top: 15px; width: 100%;">
                                Manage Connection
                            </button>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 40px; padding: 30px; background: rgba(255, 138, 101, 0.08); border-radius: 15px; border: 1px solid rgba(255, 138, 101, 0.15);">
                        <h3 style="color: #fff; margin-bottom: 15px;">üîê Your Privacy Matters</h3>
                        <p style="color: #d4b896; line-height: 1.6; max-width: 600px; margin: 0 auto;">
                            We use secure OAuth connections to link your streaming accounts. We never store your login credentials 
                            or access your personal data. All connections can be revoked at any time from your account settings.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API Configuration
        const API_BASE_URL = 'http://localhost:3001/api';
        
        // Auth state
        let currentUser = null;
        let accessToken = null;
        let refreshToken = null;
        
        // Room state
        let currentRoom = null;
        let isPlaying = false;
        let isSynced = true;

        // Intro state
        let introComplete = false;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            startIntroSequence();
            setupConnectionMonitoring();
        });

        // Intro sequence functions
        function startIntroSequence() {
            const introPage = document.getElementById('introPage');
            const mainApp = document.getElementById('mainApp');
            
            // Auto-complete intro after 4 seconds
            setTimeout(() => {
                if (!introComplete) {
                    completeIntro();
                }
            }, 4000);
        }

        function skipIntro() {
            completeIntro();
        }

        function completeIntro() {
            if (introComplete) return;
            
            introComplete = true;
            const introPage = document.getElementById('introPage');
            const mainApp = document.getElementById('mainApp');
            
            // Fade out intro
            introPage.classList.add('fade-out');
            
            setTimeout(() => {
                introPage.classList.add('hidden');
                mainApp.classList.add('show');
                initializeApp();
            }, 1000);
        }

        // Initialize application
        function initializeApp() {
            console.log('CinemaSync initialized');
        }

        // Create stars animation
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const numStars = 100;
            
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 4 + 's';
                star.style.animationDuration = (3 + Math.random() * 2) + 's';
                starsContainer.appendChild(star);
            }
        }

        // Toast Notifications System
        function showToast(message, type = 'info', duration = 4000) {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icon = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è';
            toast.innerHTML = `${icon} ${message}`;
            
            container.appendChild(toast);
            
            // Auto-remove after duration
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease forwards';
                setTimeout(() => {
                    if (container.contains(toast)) {
                        container.removeChild(toast);
                    }
                }, 300);
            }, duration);
        }

        // Connection Monitoring
        function setupConnectionMonitoring() {
            const statusElement = document.getElementById('connectionStatus');
            const textElement = document.getElementById('connectionText');
            
            function updateConnectionStatus() {
                if (navigator.onLine) {
                    statusElement.className = 'connection-status online';
                    textElement.textContent = 'Connected';
                } else {
                    statusElement.className = 'connection-status offline';
                    textElement.textContent = 'Offline';
                }
            }
            
            window.addEventListener('online', updateConnectionStatus);
            window.addEventListener('offline', updateConnectionStatus);
            updateConnectionStatus();
        }

        // Password Utilities
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = input.nextElementSibling;
            
            if (input.type === 'password') {
                input.type = 'text';
                button.textContent = 'üôà';
            } else {
                input.type = 'password';
                button.textContent = 'üëÅÔ∏è';
            }
        }

        function checkPasswordStrength(password) {
            const strengthElement = document.getElementById('passwordStrength');
            let strength = 0;
            let className = '';
            
            if (password.length >= 8) strength++;
            if (password.match(/[a-z]/)) strength++;
            if (password.match(/[A-Z]/)) strength++;
            if (password.match(/[0-9]/)) strength++;
            if (password.match(/[^a-zA-Z0-9]/)) strength++;
            
            switch (strength) {
                case 0:
                case 1:
                    className = 'strength-weak';
                    break;
                case 2:
                case 3:
                    className = 'strength-fair';
                    break;
                case 4:
                    className = 'strength-good';
                    break;
                case 5:
                    className = 'strength-strong';
                    break;
            }
            
            strengthElement.className = `password-strength-fill ${className}`;
        }

        // Form Validation
        function validateField(fieldId, value, validationType) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + 'Error');
            let isValid = true;
            let errorMessage = '';
            
            switch (validationType) {
                case 'email':
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(value)) {
                        isValid = false;
                        errorMessage = 'Please enter a valid email address';
                    }
                    break;
                    
                case 'password':
                    if (value.length < 8) {
                        isValid = false;
                        errorMessage = 'Password must be at least 8 characters';
                    } else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(value)) {
                        isValid = false;
                        errorMessage = 'Password must contain uppercase, lowercase, and number';
                    }
                    break;
                    
                case 'name':
                    if (value.trim().length < 2) {
                        isValid = false;
                        errorMessage = 'Name must be at least 2 characters';
                    }
                    break;
                    
                case 'confirmPassword':
                    const originalPassword = document.getElementById('registerPassword').value;
                    if (value !== originalPassword) {
                        isValid = false;
                        errorMessage = 'Passwords do not match';
                    }
                    break;
            }
            
            field.className = field.className.replace(/ (valid|invalid)/g, '');
            field.className += isValid ? ' valid' : ' invalid';
            errorElement.textContent = errorMessage;
            
            return isValid;
        }

        // Simulated API Functions
        async function simulateApiCall(endpoint, options = {}) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log('Simulating API call to:', endpoint, 'with options:', options);
                    
                    switch (endpoint) {
                        case '/auth/login':
                            try {
                                const loginData = JSON.parse(options.body || '{}');
                                if ((loginData.email === 'demo@example.com' && loginData.password === 'password123') ||
                                    (loginData.email && loginData.password && loginData.password.length >= 6)) {
                                    resolve({
                                        accessToken: 'demo-access-token-' + Date.now(),
                                        refreshToken: 'demo-refresh-token-' + Date.now(),
                                        user: {
                                            id: 1,
                                            name: loginData.email === 'demo@example.com' ? 'Demo User' : 'User',
                                            email: loginData.email
                                        }
                                    });
                                } else {
                                    reject(new Error('Invalid credentials. Try demo@example.com / password123'));
                                }
                            } catch (error) {
                                reject(new Error('Invalid request format'));
                            }
                            break;
                            
                        case '/auth/register':
                            try {
                                const registerData = JSON.parse(options.body || '{}');
                                if (registerData.email && registerData.password && registerData.name) {
                                    resolve({
                                        accessToken: 'demo-access-token-' + Date.now(),
                                        refreshToken: 'demo-refresh-token-' + Date.now(),
                                        user: {
                                            id: 2,
                                            name: registerData.name,
                                            email: registerData.email
                                        }
                                    });
                                } else {
                                    reject(new Error('Missing required fields'));
                                }
                            } catch (error) {
                                reject(new Error('Invalid request format'));
                            }
                            break;
                            
                        case '/rooms/create':
                            try {
                                const roomData = JSON.parse(options.body || '{}');
                                const roomId = 'ROOM-' + Math.random().toString(36).substr(2, 5).toUpperCase();
                                resolve({
                                    id: roomId,
                                    name: roomData.name || 'Untitled Room',
                                    maxParticipants: roomData.maxParticipants || 2,
                                    privacy: roomData.privacy || 'private',
                                    participants: [currentUser],
                                    createdBy: currentUser.id,
                                    createdAt: new Date().toISOString()
                                });
                            } catch (error) {
                                reject(new Error('Failed to create room'));
                            }
                            break;
                            
                        default:
                            reject(new Error('Endpoint not found'));
                    }
                }, 800);
            });
        }

        // Auth Functions
        async function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            const button = document.getElementById('loginBtn');
            
            if (!email || !password) {
                showToast('Please enter both email and password', 'error');
                return;
            }
            
            if (!email.includes('@') || !email.includes('.')) {
                showToast('Please enter a valid email address', 'error');
                return;
            }
            
            button.innerHTML = '<span class="loading-spinner"></span>Signing In...';
            button.disabled = true;
            
            try {
                const response = await simulateApiCall('/auth/login', {
                    method: 'POST',
                    body: JSON.stringify({ email, password })
                });
                
                accessToken = response.accessToken;
                refreshToken = response.refreshToken;
                currentUser = response.user;
                
                showAuthMessage('Login successful! Welcome back.', 'success', 'login');
                showToast('Welcome back to CinemaSync!', 'success');
                
                setTimeout(() => {
                    closeAuthModal();
                    updateUIForUser();
                }, 1000);
                
            } catch (error) {
                console.error('Login error:', error);
                showAuthMessage(error.message, 'error', 'login');
                showToast(error.message, 'error');
            } finally {
                button.innerHTML = 'Sign In';
                button.disabled = false;
            }
        }

        async function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const button = document.getElementById('registerBtn');
            
            const nameValid = validateField('registerName', name, 'name');
            const emailValid = validateField('registerEmail', email, 'email');
            const passwordValid = validateField('registerPassword', password, 'password');
            const confirmValid = validateField('confirmPassword', confirmPassword, 'confirmPassword');
            
            if (!nameValid || !emailValid || !passwordValid || !confirmValid) {
                showToast('Please fix the errors above', 'error');
                return;
            }
            
            button.innerHTML = '<span class="loading-spinner"></span>Creating Account...';
            button.disabled = true;
            
            try {
                const response = await simulateApiCall('/auth/register', {
                    method: 'POST',
                    body: JSON.stringify({ name, email, password })
                });
                
                accessToken = response.accessToken;
                refreshToken = response.refreshToken;
                currentUser = response.user;
                
                showAuthMessage('Account created successfully! Welcome to CinemaSync.', 'success', 'register');
                showToast('Welcome to CinemaSync! Your account has been created.', 'success');
                
                setTimeout(() => {
                    closeAuthModal();
                    updateUIForUser();
                }, 1500);
                
            } catch (error) {
                showAuthMessage(error.message, 'error', 'register');
                showToast(error.message, 'error');
            } finally {
                button.innerHTML = 'Create Account';
                button.disabled = false;
            }
        }

        async function logout() {
            try {
                showToast('Signed out successfully', 'info');
            } catch (error) {
                console.error('Logout error:', error);
            }
            
            accessToken = null;
            refreshToken = null;
            currentUser = null;
            currentRoom = null;
            
            updateUIForGuest();
            closeUserDropdown();
        }

        // Auth Modal Functions
        function showAuthModal(type = 'login') {
            const modal = document.getElementById('authModal');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            if (type === 'login') {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
            }
            
            modal.classList.add('active');
            clearAuthMessages();
        }

        function closeAuthModal() {
            const modal = document.getElementById('authModal');
            const overlay = document.getElementById('authRequiredOverlay');
            modal.classList.remove('active');
            overlay.classList.remove('active');
            clearAuthMessages();
            resetForms();
        }

        function switchToLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
            clearAuthMessages();
        }

        function switchToRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            clearAuthMessages();
        }

        function clearAuthMessages() {
            const messages = document.querySelectorAll('#loginMessage, #registerMessage');
            messages.forEach(msg => msg.innerHTML = '');
        }

        function resetForms() {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => form.reset());
            
            document.querySelectorAll('.form-input').forEach(input => {
                input.className = input.className.replace(/ (valid|invalid)/g, '');
            });
            
            document.querySelectorAll('.field-error').forEach(error => {
                error.textContent = '';
            });
            
            const strengthElement = document.getElementById('passwordStrength');
            if (strengthElement) {
                strengthElement.className = 'password-strength-fill';
            }
        }

        function showAuthMessage(message, type = 'error', formType = 'login') {
            const messageContainer = document.getElementById(formType + 'Message');
            messageContainer.innerHTML = `<div class="${type}-message">${message}</div>`;
        }

        // UI Update Functions
        function updateUIForUser() {
            const guestActions = document.getElementById('guestActions');
            const userMenu = document.getElementById('userMenu');
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const userEmail = document.getElementById('userEmail');
            
            guestActions.style.display = 'none';
            userMenu.style.display = 'block';
            
            if (currentUser) {
                const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                userAvatar.textContent = initials;
                userName.textContent = currentUser.name;
                userEmail.textContent = currentUser.email;
            }
        }

        function updateUIForGuest() {
            const guestActions = document.getElementById('guestActions');
            const userMenu = document.getElementById('userMenu');
            
            guestActions.style.display = 'flex';
            userMenu.style.display = 'none';
            
            // Hide room interface if visible
            hideRoomInterface();
        }

        // User Menu Functions
        function toggleUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('active');
        }

        function closeUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.remove('active');
        }

        // Room Functions
        async function handleCreateRoom(event) {
            event.preventDefault();
            
            const roomName = document.getElementById('roomName').value;
            const maxParticipants = document.getElementById('maxParticipants').value;
            const roomPrivacy = document.getElementById('roomPrivacy').value;
            
            try {
                const response = await simulateApiCall('/rooms/create', {
                    method: 'POST',
                    body: JSON.stringify({
                        name: roomName,
                        maxParticipants: parseInt(maxParticipants),
                        privacy: roomPrivacy
                    })
                });
                
                currentRoom = response;
                showToast(`Room "${roomName}" created successfully!`, 'success');
                closeCreateRoomModal();
                showRoomInterface(response);
                
            } catch (error) {
                showToast('Failed to create room: ' + error.message, 'error');
            }
        }

        function showCreateRoomModal() {
            if (!currentUser) {
                requireAuth('create room');
                return;
            }
            
            const modal = document.getElementById('createRoomModal');
            modal.classList.add('active');
        }

        function closeCreateRoomModal() {
            const modal = document.getElementById('createRoomModal');
            modal.classList.remove('active');
            resetForms();
        }

        function showJoinRoomModal() {
            if (!currentUser) {
                requireAuth('join room');
                return;
            }
            
            const roomCode = prompt('Enter room code:');
            if (roomCode && roomCode.startsWith('ROOM-')) {
                // Simulate joining a room
                const mockRoom = {
                    id: roomCode,
                    name: 'Shared Movie Night',
                    participants: [
                        { name: currentUser.name, id: currentUser.id },
                        { name: 'Friend', id: 'friend-123' }
                    ]
                };
                currentRoom = mockRoom;
                showToast('Joined room successfully!', 'success');
                showRoomInterface(mockRoom);
            } else if (roomCode) {
                showToast('Invalid room code format', 'error');
            }
        }

        function showRoomInterface(room) {
            const landing = document.getElementById('roomLanding');
            const interface = document.getElementById('roomInterface');
            const roomName = document.getElementById('currentRoomName');
            const roomId = document.getElementById('currentRoomId');
            
            landing.style.display = 'none';
            interface.style.display = 'block';
            
            roomName.textContent = room.name;
            roomId.textContent = room.id;
            
            showSection('room');
        }

        function hideRoomInterface() {
            const landing = document.getElementById('roomLanding');
            const interface = document.getElementById('roomInterface');
            
            landing.style.display = 'block';
            interface.style.display = 'none';
        }

        function leaveRoom() {
            currentRoom = null;
            hideRoomInterface();
            showToast('Left the room', 'info');
        }

        // Video Control Functions
        function togglePlay() {
            const playBtn = document.getElementById('playBtn');
            isPlaying = !isPlaying;
            
            if (isPlaying) {
                playBtn.innerHTML = '‚è∏Ô∏è Pause';
                showToast('Playback started for all participants', 'info', 2000);
            } else {
                playBtn.innerHTML = '‚ñ∂Ô∏è Play';
                showToast('Playback paused for all participants', 'info', 2000);
            }
        }

        function seekBackward() {
            showToast('Rewound 10 seconds for everyone', 'info', 2000);
        }

        function seekForward() {
            showToast('Fast forwarded 10 seconds for everyone', 'info', 2000);
        }

        function toggleSync() {
            isSynced = !isSynced;
            const message = isSynced ? 'Synchronization enabled' : 'Synchronization disabled';
            showToast(message, isSynced ? 'success' : 'info', 2000);
        }

        function toggleChat() {
            showToast('Chat toggled', 'info', 1500);
        }

        function toggleTheaterMode() {
            showToast('Theater mode toggled', 'info', 1500);
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                const messagesContainer = document.getElementById('chatMessages');
                const messageElement = document.createElement('div');
                messageElement.style.marginBottom = '10px';
                messageElement.innerHTML = `
                    <strong style="color: #ff8a65;">${currentUser.name}:</strong>
                    <span style="color: #fff;">${message}</span>
                `;
                messagesContainer.appendChild(messageElement);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                input.value = '';
            }
        }

        // Navigation
        function showSection(sectionId, event) {
            if (['room', 'schedule', 'platforms'].includes(sectionId) && !currentUser) {
                requireAuth(sectionId);
                return;
            }
            
            const sections = document.querySelectorAll('.content-section');
            const tabs = document.querySelectorAll('.nav-tab');
            
            sections.forEach(section => section.classList.remove('active'));
            tabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(sectionId).classList.add('active');
            if (event) event.target.classList.add('active');
        }

        // Protected Features
        function requireAuth(feature) {
            if (!currentUser) {
                const overlay = document.getElementById('authRequiredOverlay');
                overlay.classList.add('active');
                return false;
            }
            return true;
        }

        // Placeholder functions
        function showProfile() {
            closeUserDropdown();
            showToast('Profile settings coming soon!', 'info');
        }

        function showNotifications() {
            closeUserDropdown();
            showToast('Notifications coming soon!', 'info');
        }

        function showHelp() {
            closeUserDropdown();
            showToast('Help & Support coming soon!', 'info');
        }

        // Event Listeners
        document.addEventListener('click', function(event) {
            const userMenu = document.getElementById('userMenu');
            if (userMenu && !userMenu.contains(event.target)) {
                closeUserDropdown();
            }
        });

        document.addEventListener('keydown', function(event) {
            // Skip intro on any key press
            if (!introComplete && event.key) {
                completeIntro();
                return;
            }
            
            if (event.key === 'Escape') {
                closeAuthModal();
                closeCreateRoomModal();
                closeUserDropdown();
            }
            
            // Enter to send chat message
            if (event.key === 'Enter' && event.target.id === 'chatInput') {
                sendMessage();
            }
        });

        // Demo helper functions
        function showDemoCredentials() {
            if (!introComplete) return;
            showToast('üé¨ Demo Mode: Use demo@example.com / password123 to sign in', 'info', 8000);
        }

        function quickDemoLogin() {
            document.getElementById('loginEmail').value = 'demo@example.com';
            document.getElementById('loginPassword').value = 'password123';
            showAuthModal('login');
            
            setTimeout(() => {
                const emailField = document.getElementById('loginEmail');
                const passwordField = document.getElementById('loginPassword');
                
                emailField.className = emailField.className.replace(/ (valid|invalid)/g, '') + ' valid';
                passwordField.className = passwordField.className.replace(/ (valid|invalid)/g, '') + ' valid';
                
                showToast('Demo credentials filled! Click Sign In to continue.', 'info');
            }, 100);
        }

        function addDemoHelper() {
            if (!currentUser && introComplete) {
                const guestActions = document.getElementById('guestActions');
                const existingDemo = document.querySelector('.demo-btn');
                if (existingDemo) return;
                
                const demoBtn = document.createElement('button');
                demoBtn.className = 'btn btn-secondary demo-btn';
                demoBtn.style.fontSize = '12px';
                demoBtn.style.padding = '8px 12px';
                demoBtn.innerHTML = 'üé¨ Demo Login';
                demoBtn.onclick = quickDemoLogin;
                guestActions.appendChild(demoBtn);
                
                setTimeout(() => showDemoCredentials(), 2000);
            }
        }

        // Initialize demo helper after intro
        function initializeDemoHelper() {
            setTimeout(addDemoHelper, 1000);
        }

        // Call demo helper initialization when intro completes
        function completeIntro() {
            if (introComplete) return;
            
            introComplete = true;
            const introPage = document.getElementById('introPage');
            const mainApp = document.getElementById('mainApp');
            
            // Fade out intro
            introPage.classList.add('fade-out');
            
            setTimeout(() => {
                introPage.classList.add('hidden');
                mainApp.classList.add('show');
                initializeApp();
                initializeDemoHelper();
            }, 1000);
        }
    </script>
</body>
</html>
            
            